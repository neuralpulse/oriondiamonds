{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/queries/customer.js"],"sourcesContent":["// src/queries/customer.js\nexport const CUSTOMER_CREATE = `\n  mutation customerCreate($input: CustomerCreateInput!) {\n    customerCreate(input: $input) {\n      customer {\n        id\n        email\n        firstName\n        lastName\n      }\n      customerUserErrors {\n        message\n      }\n    }\n  }\n`;\n\nexport const CUSTOMER_LOGIN = `\n  mutation customerAccessTokenCreate($input: CustomerAccessTokenCreateInput!) {\n    customerAccessTokenCreate(input: $input) {\n      customerAccessToken {\n        accessToken\n        expiresAt\n      }\n      customerUserErrors {\n        message\n      }\n    }\n  }\n`;\n\nexport const GET_CUSTOMER_INFO = `\n  query getCustomer($customerAccessToken: String!) {\n    customer(customerAccessToken: $customerAccessToken) {\n      id\n      firstName\n      lastName\n      displayName\n      email\n      phone\n      acceptsMarketing\n      createdAt\n      updatedAt\n      defaultAddress {\n        id\n        address1\n        address2\n        city\n        province\n        country\n        zip\n        firstName\n        lastName\n        phone\n      }\n      addresses(first: 10) {\n        edges {\n          node {\n            id\n            address1\n            address2\n            city\n            province\n            country\n            zip\n            firstName\n            lastName\n            phone\n          }\n        }\n      }\n      orders(first: 10) {\n        edges {\n          node {\n            id\n            orderNumber\n            processedAt\n            financialStatus\n            fulfillmentStatus\n            totalPrice {\n              amount\n              currencyCode\n            }\n            lineItems(first: 10) {\n              edges {\n                node {\n                  title\n                  quantity\n                  variant {\n                    id\n                    title\n                    image {\n                      url\n                      altText\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;;AACnB,MAAM,kBAAkB,CAAC;;;;;;;;;;;;;;AAchC,CAAC;AAEM,MAAM,iBAAiB,CAAC;;;;;;;;;;;;AAY/B,CAAC;AAEM,MAAM,oBAAoB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyElC,CAAC","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/app/login/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/navigation\";\nimport { signIn, useSession } from \"next-auth/react\";\nimport { CUSTOMER_CREATE, CUSTOMER_LOGIN } from \"../../queries/customer\";\nimport { shopifyRequest } from \"../../utils/shopify\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const { data: session, status } = useSession();\n  const [isLogin, setIsLogin] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n  });\n\n  // Redirect if already logged in via OAuth\n  useEffect(() => {\n    if (status === \"authenticated\" && session?.user?.email) {\n      // Set localStorage items\n      localStorage.setItem(\"customer_email\", session.user.email);\n      localStorage.setItem(\"google_auth\", \"true\"); // Keep consistent with account page\n\n      // Force a single redirect with replace to avoid back button issues\n      router.replace(\"/account\");\n    }\n  }, [status, session, router]);\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n    setError(\"\");\n  };\n\n  const handleGoogleSignIn = async () => {\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      await signIn(\"google\", {\n        callbackUrl: \"/account\",\n        redirect: true,\n      });\n    } catch (error) {\n      setError(\"Failed to sign in with Google\");\n      setLoading(false);\n    }\n  };\n\n  const handleInstagramSignIn = async () => {\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      await signIn(\"instagram\", {\n        callbackUrl: \"/account\",\n        redirect: true,\n      });\n    } catch (error) {\n      setError(\"Failed to sign in with Instagram\");\n      setLoading(false);\n    }\n  };\n\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const { data } = await shopifyRequest(CUSTOMER_CREATE, {\n        input: {\n          email: formData.email,\n          password: formData.password,\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n        },\n      });\n\n      if (data.customerCreate.customerUserErrors.length > 0) {\n        setError(data.customerCreate.customerUserErrors[0].message);\n        setLoading(false);\n        return;\n      }\n\n      await handleLogin(e, true);\n    } catch {\n      setError(\"Something went wrong. Please try again.\");\n      setLoading(false);\n    }\n  };\n\n  const handleLogin = async (e, isAutoLogin = false) => {\n    if (!isAutoLogin) e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const { data } = await shopifyRequest(CUSTOMER_LOGIN, {\n        input: {\n          email: formData.email,\n          password: formData.password,\n        },\n      });\n\n      if (data.customerAccessTokenCreate.customerUserErrors.length > 0) {\n        setError(data.customerAccessTokenCreate.customerUserErrors[0].message);\n        setLoading(false);\n        return;\n      }\n\n      const { accessToken, expiresAt } =\n        data.customerAccessTokenCreate.customerAccessToken;\n\n      localStorage.setItem(\"shopify_customer_token\", accessToken);\n      localStorage.setItem(\"shopify_token_expires\", expiresAt);\n      localStorage.setItem(\"customer_email\", formData.email);\n\n      router.push(\"/account\");\n    } catch {\n      setError(\"Something went wrong. Please try again.\");\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen mt-10 flex items-center justify-center bg-[#0a1833] overflow-hidden\">\n      {/* Background Image */}\n      <div className=\"absolute inset-0\">\n        <Image\n          src=\"/new.jpg\"\n          alt=\"Background\"\n          fill\n          className=\"object-cover opacity-40 animate-heroZoomOut\"\n          priority\n        />\n        <div className=\"absolute inset-0 bg-black/50\"></div>\n      </div>\n\n      {/* Content */}\n      <div className=\"relative z-10 max-w-md w-full bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl p-10 m-6 text-[#0a1833]\">\n        <h2 className=\"text-center text-4xl font-serif font-semibold mb-2\">\n          {isLogin ? \"Welcome Back\" : \"Create Account\"}\n        </h2>\n        <p className=\"text-center text-gray-600 mb-8\">\n          {isLogin\n            ? \"Sign in to access your Orion Diamonds account\"\n            : \"Join Orion Diamonds â€” brilliance redefined\"}\n        </p>\n\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 text-sm\">\n            {error}\n          </div>\n        )}\n\n        {/* Social Sign In Buttons */}\n        <div className=\"space-y-3 mb-6\">\n          {/* Google Sign In Button */}\n          <button\n            onClick={handleGoogleSignIn}\n            disabled={loading}\n            className=\"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-2.5 rounded-lg font-medium hover:bg-gray-50 transition disabled:opacity-50\"\n          >\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n              <path\n                fill=\"#4285F4\"\n                d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              />\n              <path\n                fill=\"#34A853\"\n                d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              />\n              <path\n                fill=\"#FBBC05\"\n                d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              />\n              <path\n                fill=\"#EA4335\"\n                d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              />\n            </svg>\n            {loading ? \"Signing in...\" : \"Continue with Google\"}\n          </button>\n\n          {/* Instagram Sign In Button */}\n          <button\n            onClick={handleInstagramSignIn}\n            disabled={loading}\n            className=\"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white py-2.5 rounded-lg font-medium hover:from-purple-600 hover:via-pink-600 hover:to-orange-600 transition disabled:opacity-50\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\" />\n            </svg>\n            {loading ? \"Signing in...\" : \"Continue with Instagram\"}\n          </button>\n        </div>\n\n        <div className=\"relative mb-6\">\n          <div className=\"absolute inset-0 flex items-center\">\n            <div className=\"w-full border-t border-gray-300\"></div>\n          </div>\n          <div className=\"relative flex justify-center text-sm\">\n            <span className=\"px-2 bg-white/90 text-gray-500\">\n              Or continue with email\n            </span>\n          </div>\n        </div>\n\n        <form\n          className=\"space-y-5\"\n          onSubmit={isLogin ? handleLogin : handleSignup}\n        >\n          {!isLogin && (\n            <div className=\"grid grid-cols-2 gap-3\">\n              <input\n                id=\"firstName\"\n                name=\"firstName\"\n                type=\"text\"\n                required\n                placeholder=\"First Name\"\n                value={formData.firstName}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#0a1833] focus:border-[#0a1833] text-sm bg-white/90\"\n              />\n              <input\n                id=\"lastName\"\n                name=\"lastName\"\n                type=\"text\"\n                required\n                placeholder=\"Last Name\"\n                value={formData.lastName}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#0a1833] focus:border-[#0a1833] text-sm bg-white/90\"\n              />\n            </div>\n          )}\n\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            required\n            placeholder=\"Email Address\"\n            value={formData.email}\n            onChange={handleChange}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#0a1833] focus:border-[#0a1833] text-sm bg-white/90\"\n          />\n\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            required\n            placeholder=\"Password\"\n            value={formData.password}\n            onChange={handleChange}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#0a1833] focus:border-[#0a1833] text-sm bg-white/90\"\n          />\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-[#0a1833] text-white py-2.5 rounded-lg font-medium hover:bg-[#142850] transition disabled:opacity-50\"\n          >\n            {loading ? \"Processing...\" : isLogin ? \"Sign In\" : \"Sign Up\"}\n          </button>\n        </form>\n\n        <div className=\"text-center mt-6\">\n          <button\n            type=\"button\"\n            onClick={() => {\n              setIsLogin(!isLogin);\n              setError(\"\");\n            }}\n            className=\"text-[#0a1833] font-medium hover:underline\"\n          >\n            {isLogin\n              ? \"Don't have an account? Sign up\"\n              : \"Already have an account? Sign in\"}\n          </button>\n        </div>\n      </div>\n\n      {/* Animation */}\n      <style jsx>{`\n        @keyframes heroZoomOut {\n          0% {\n            transform: scale(1.4);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n        .animate-heroZoomOut {\n          animation: heroZoomOut 1.8s ease-out forwards;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}