{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/components/collectionsect.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/collectionsect.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/collectionsect.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/components/collectionsect.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/collectionsect.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/collectionsect.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/utils/shopify.js"],"sourcesContent":["export const SHOPIFY_STORE_DOMAIN =\n  process.env.NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN;\nexport const STOREFRONT_ACCESS_TOKEN =\n  process.env.NEXT_PUBLIC_SHOPIFY_STOREFRONT_TOKEN;\nexport const STOREFRONT_API_URL = `https://${SHOPIFY_STORE_DOMAIN}/api/2024-01/graphql.json`;\n\n// Validation\nif (!SHOPIFY_STORE_DOMAIN || !STOREFRONT_ACCESS_TOKEN) {\n  console.error(\n    \"⚠️ Missing Shopify environment variables! Check your .env file.\"\n  );\n}\n\n// Shopify Storefront API request function\nexport async function shopifyRequest(query, variables = {}) {\n  try {\n    const response = await fetch(STOREFRONT_API_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Shopify-Storefront-Access-Token\": STOREFRONT_ACCESS_TOKEN,\n      },\n      body: JSON.stringify({\n        query,\n        variables,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(\n        `Shopify API error: ${response.status} ${response.statusText}`\n      );\n    }\n\n    const json = await response.json();\n\n    if (json.errors) {\n      console.error(\"GraphQL Errors:\", json.errors);\n      throw new Error(json.errors[0].message);\n    }\n\n    return json;\n  } catch (error) {\n    console.error(\"Error making Shopify request:\", error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM;AAEN,MAAM;AAEN,MAAM,qBAAqB,CAAC,QAAQ,EAAE,qBAAqB,yBAAyB,CAAC;AAE5F,aAAa;AACb;;AAOO,eAAe,eAAe,KAAK,EAAE,YAAY,CAAC,CAAC;IACxD,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,oBAAoB;YAC/C,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,qCAAqC;YACvC;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;YACF;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MACR,CAAC,mBAAmB,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE,SAAS,UAAU,EAAE;QAElE;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,KAAK,MAAM,EAAE;YACf,QAAQ,KAAK,CAAC,mBAAmB,KAAK,MAAM;YAC5C,MAAM,IAAI,MAAM,KAAK,MAAM,CAAC,EAAE,CAAC,OAAO;QACxC;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/queries/bracelets_collection.js"],"sourcesContent":["export const GET_BRACELETS_COLLECTION = `\n  query GetEarringsCollection {\n    collection(handle: \"bracelets\") {\n      title\n      products(first: 50) {\n        edges {\n          node {\n            id\n            handle\n            title\n            description\n            variants(first: 50) {\n              edges {\n                node {\n                  id\n                  title\n                  sku\n                  price {\n                    amount\n                    currencyCode\n                  }\n                  selectedOptions {\n                    name\n                    value\n                  }\n                  image {\n                    url\n                    altText\n                  }\n                }\n              }\n            }\n            images(first: 10) {\n              edges {\n                node {\n                  url\n                  altText\n                }\n              }\n            }\n            featuredImage {\n              url\n              altText\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":[],"mappings":";;;;AAAO,MAAM,2BAA2B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDzC,CAAC","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/utils/price.js"],"sourcesContent":["// src/utils/price.js (UPDATED)\n\nconst API_URL =\n  process.env.NEXT_PUBLIC_PRICING_API_URL || \"http://localhost:3001\";\n\n// Cache for pricing config\nlet cachedConfig = null;\nlet lastFetch = 0;\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n\n// Fetch pricing configuration from API\nasync function getPricingConfig() {\n  const now = Date.now();\n\n  // Return cached config if still valid\n  if (cachedConfig && now - lastFetch < CACHE_DURATION) {\n    return cachedConfig;\n  }\n\n  try {\n    const response = await fetch(`${API_URL}/api/pricing-config`);\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch pricing config\");\n    }\n\n    cachedConfig = await response.json();\n    lastFetch = now;\n    return cachedConfig;\n  } catch (error) {\n    console.error(\"Error fetching pricing config:\", error);\n\n    // Return default config as fallback\n    return {\n      diamondMargins: {\n        lessThan1ct: { multiplier: 2.2, flatAddition: 900 },\n        greaterThan1ct: { multiplier: 2.7, flatAddition: 0 },\n        baseFees: { fee1: 150, fee2: 700 },\n      },\n      makingCharges: {\n        lessThan2g: { ratePerGram: 950 },\n        greaterThan2g: { ratePerGram: 700 },\n        multiplier: 1.75,\n      },\n      gstRate: 0.03,\n    };\n  }\n}\n\n// Utility: find rate from range-based diamond price chart\nfunction findRate(weight, ranges) {\n  for (const [min, max, rate] of ranges) {\n    if (weight >= min && weight <= max) return rate;\n  }\n  return 0;\n}\n\n// === MAIN PRICE FUNCTION ===\nexport async function calculateFinalPrice({\n  diamonds = [],\n  goldWeight = 0,\n  goldKarat = \"18K\",\n}) {\n  // Fetch current pricing configuration\n  const config = await getPricingConfig();\n\n  let totalDiamondPrice = 0;\n\n  for (const d of diamonds) {\n    const shape = (d.shape || \"\").toLowerCase();\n    const weight = parseFloat(d.weight) || 0;\n    const count = parseInt(d.count) || 0;\n\n    if (weight <= 0 || count <= 0) continue;\n\n    const roundShapes = [\"round\", \"rnd\", \"r\"];\n    let rate = 0;\n\n    // === Diamond rate logic ===\n    if (roundShapes.includes(shape)) {\n      if (weight < 1) {\n        rate = findRate(weight, [\n          [0.001, 0.005, 13500],\n          [0.006, 0.009, 11600],\n          [0.01, 0.02, 6900],\n          [0.025, 0.035, 4600],\n          [0.04, 0.07, 4600],\n          [0.08, 0.09, 4600],\n          [0.1, 0.12, 5100],\n          [0.13, 0.17, 5100],\n          [0.18, 0.22, 6200],\n          [0.23, 0.29, 7000],\n          [0.3, 0.39, 6750],\n          [0.4, 0.49, 6750],\n          [0.5, 0.69, 7100],\n          [0.7, 0.89, 7100],\n          [0.9, 0.99, 7300],\n        ]);\n      } else {\n        rate = findRate(weight, [\n          [1.0, 1.99, 11000],\n          [2.0, 2.99, 12500],\n          [3.0, 3.99, 13750],\n          [4.0, 4.99, 14550],\n          [5.0, 5.99, 15500],\n        ]);\n      }\n    } else {\n      if (weight < 1) {\n        rate = findRate(weight, [[0.001, 0.99, 7800]]);\n      } else {\n        rate = findRate(weight, [\n          [1.0, 1.99, 11500],\n          [2.0, 2.99, 13500],\n          [3.0, 3.99, 14550],\n          [4.0, 4.99, 15550],\n          [5.0, 5.99, 16500],\n        ]);\n      }\n    }\n\n    // === Base and adjustment (using config) ===\n    const base = weight * count * rate;\n    let adjusted = base;\n\n    if (weight >= 1) {\n      // ≥ 1ct → use config multiplier\n      adjusted =\n        base * config.diamondMargins.greaterThan1ct.multiplier +\n        config.diamondMargins.greaterThan1ct.flatAddition;\n    } else {\n      // < 1ct → use config multiplier + flat addition\n      adjusted =\n        base * config.diamondMargins.lessThan1ct.multiplier +\n        config.diamondMargins.lessThan1ct.flatAddition;\n    }\n\n    totalDiamondPrice += adjusted;\n  }\n\n  // Add base fees from config\n  totalDiamondPrice +=\n    config.diamondMargins.baseFees.fee1 + config.diamondMargins.baseFees.fee2;\n\n  // === Get gold price from API ===\n  const res = await fetch(\"https://gold-price-india.onrender.com/api/gold/24k\");\n  const json = await res.json();\n  const gold24Price = parseFloat(json.price) || 0;\n\n  const goldRates = {\n    \"10K\": gold24Price * (10 / 24),\n    \"14K\": gold24Price * (14 / 24),\n    \"18K\": gold24Price * (18 / 24),\n  };\n\n  const selectedGoldRate = goldRates[goldKarat] || goldRates[\"18K\"] || 0;\n  const goldPrice = selectedGoldRate * goldWeight;\n\n  // === Making charges (using config) ===\n  let makingCharge =\n    goldWeight >= 2\n      ? goldWeight * config.makingCharges.greaterThan2g.ratePerGram\n      : goldWeight * config.makingCharges.lessThan2g.ratePerGram;\n\n  makingCharge *= config.makingCharges.multiplier;\n\n  // === Subtotal, GST, and Total ===\n  const subtotal = totalDiamondPrice + goldPrice + makingCharge;\n  const gst = subtotal * config.gstRate;\n  const grandTotal = subtotal + gst;\n\n  // === Round neatly ===\n  return {\n    diamondPrice: Number(totalDiamondPrice.toFixed(2)),\n    goldPrice: Number(goldPrice.toFixed(2)),\n    makingCharge: Number(makingCharge.toFixed(2)),\n    subtotal: Number(subtotal.toFixed(2)),\n    gst: Number(gst.toFixed(2)),\n    totalPrice: Number(grandTotal.toFixed(2)),\n  };\n}\n\n// Clear the config cache (useful for admin updates)\nexport function clearPricingCache() {\n  cachedConfig = null;\n  lastFetch = 0;\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;;AAE/B,MAAM,UACJ,2EAA2C;AAE7C,2BAA2B;AAC3B,IAAI,eAAe;AACnB,IAAI,YAAY;AAChB,MAAM,iBAAiB,IAAI,KAAK,MAAM,YAAY;AAElD,uCAAuC;AACvC,eAAe;IACb,MAAM,MAAM,KAAK,GAAG;IAEpB,sCAAsC;IACtC,IAAI,gBAAgB,MAAM,YAAY,gBAAgB;QACpD,OAAO;IACT;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,mBAAmB,CAAC;QAC5D,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,eAAe,MAAM,SAAS,IAAI;QAClC,YAAY;QACZ,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAEhD,oCAAoC;QACpC,OAAO;YACL,gBAAgB;gBACd,aAAa;oBAAE,YAAY;oBAAK,cAAc;gBAAI;gBAClD,gBAAgB;oBAAE,YAAY;oBAAK,cAAc;gBAAE;gBACnD,UAAU;oBAAE,MAAM;oBAAK,MAAM;gBAAI;YACnC;YACA,eAAe;gBACb,YAAY;oBAAE,aAAa;gBAAI;gBAC/B,eAAe;oBAAE,aAAa;gBAAI;gBAClC,YAAY;YACd;YACA,SAAS;QACX;IACF;AACF;AAEA,0DAA0D;AAC1D,SAAS,SAAS,MAAM,EAAE,MAAM;IAC9B,KAAK,MAAM,CAAC,KAAK,KAAK,KAAK,IAAI,OAAQ;QACrC,IAAI,UAAU,OAAO,UAAU,KAAK,OAAO;IAC7C;IACA,OAAO;AACT;AAGO,eAAe,oBAAoB,EACxC,WAAW,EAAE,EACb,aAAa,CAAC,EACd,YAAY,KAAK,EAClB;IACC,sCAAsC;IACtC,MAAM,SAAS,MAAM;IAErB,IAAI,oBAAoB;IAExB,KAAK,MAAM,KAAK,SAAU;QACxB,MAAM,QAAQ,CAAC,EAAE,KAAK,IAAI,EAAE,EAAE,WAAW;QACzC,MAAM,SAAS,WAAW,EAAE,MAAM,KAAK;QACvC,MAAM,QAAQ,SAAS,EAAE,KAAK,KAAK;QAEnC,IAAI,UAAU,KAAK,SAAS,GAAG;QAE/B,MAAM,cAAc;YAAC;YAAS;YAAO;SAAI;QACzC,IAAI,OAAO;QAEX,6BAA6B;QAC7B,IAAI,YAAY,QAAQ,CAAC,QAAQ;YAC/B,IAAI,SAAS,GAAG;gBACd,OAAO,SAAS,QAAQ;oBACtB;wBAAC;wBAAO;wBAAO;qBAAM;oBACrB;wBAAC;wBAAO;wBAAO;qBAAM;oBACrB;wBAAC;wBAAM;wBAAM;qBAAK;oBAClB;wBAAC;wBAAO;wBAAO;qBAAK;oBACpB;wBAAC;wBAAM;wBAAM;qBAAK;oBAClB;wBAAC;wBAAM;wBAAM;qBAAK;oBAClB;wBAAC;wBAAK;wBAAM;qBAAK;oBACjB;wBAAC;wBAAM;wBAAM;qBAAK;oBAClB;wBAAC;wBAAM;wBAAM;qBAAK;oBAClB;wBAAC;wBAAM;wBAAM;qBAAK;oBAClB;wBAAC;wBAAK;wBAAM;qBAAK;oBACjB;wBAAC;wBAAK;wBAAM;qBAAK;oBACjB;wBAAC;wBAAK;wBAAM;qBAAK;oBACjB;wBAAC;wBAAK;wBAAM;qBAAK;oBACjB;wBAAC;wBAAK;wBAAM;qBAAK;iBAClB;YACH,OAAO;gBACL,OAAO,SAAS,QAAQ;oBACtB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;iBACnB;YACH;QACF,OAAO;YACL,IAAI,SAAS,GAAG;gBACd,OAAO,SAAS,QAAQ;oBAAC;wBAAC;wBAAO;wBAAM;qBAAK;iBAAC;YAC/C,OAAO;gBACL,OAAO,SAAS,QAAQ;oBACtB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;oBAClB;wBAAC;wBAAK;wBAAM;qBAAM;iBACnB;YACH;QACF;QAEA,6CAA6C;QAC7C,MAAM,OAAO,SAAS,QAAQ;QAC9B,IAAI,WAAW;QAEf,IAAI,UAAU,GAAG;YACf,gCAAgC;YAChC,WACE,OAAO,OAAO,cAAc,CAAC,cAAc,CAAC,UAAU,GACtD,OAAO,cAAc,CAAC,cAAc,CAAC,YAAY;QACrD,OAAO;YACL,gDAAgD;YAChD,WACE,OAAO,OAAO,cAAc,CAAC,WAAW,CAAC,UAAU,GACnD,OAAO,cAAc,CAAC,WAAW,CAAC,YAAY;QAClD;QAEA,qBAAqB;IACvB;IAEA,4BAA4B;IAC5B,qBACE,OAAO,cAAc,CAAC,QAAQ,CAAC,IAAI,GAAG,OAAO,cAAc,CAAC,QAAQ,CAAC,IAAI;IAE3E,kCAAkC;IAClC,MAAM,MAAM,MAAM,MAAM;IACxB,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,cAAc,WAAW,KAAK,KAAK,KAAK;IAE9C,MAAM,YAAY;QAChB,OAAO,cAAc,CAAC,KAAK,EAAE;QAC7B,OAAO,cAAc,CAAC,KAAK,EAAE;QAC7B,OAAO,cAAc,CAAC,KAAK,EAAE;IAC/B;IAEA,MAAM,mBAAmB,SAAS,CAAC,UAAU,IAAI,SAAS,CAAC,MAAM,IAAI;IACrE,MAAM,YAAY,mBAAmB;IAErC,wCAAwC;IACxC,IAAI,eACF,cAAc,IACV,aAAa,OAAO,aAAa,CAAC,aAAa,CAAC,WAAW,GAC3D,aAAa,OAAO,aAAa,CAAC,UAAU,CAAC,WAAW;IAE9D,gBAAgB,OAAO,aAAa,CAAC,UAAU;IAE/C,mCAAmC;IACnC,MAAM,WAAW,oBAAoB,YAAY;IACjD,MAAM,MAAM,WAAW,OAAO,OAAO;IACrC,MAAM,aAAa,WAAW;IAE9B,uBAAuB;IACvB,OAAO;QACL,cAAc,OAAO,kBAAkB,OAAO,CAAC;QAC/C,WAAW,OAAO,UAAU,OAAO,CAAC;QACpC,cAAc,OAAO,aAAa,OAAO,CAAC;QAC1C,UAAU,OAAO,SAAS,OAAO,CAAC;QAClC,KAAK,OAAO,IAAI,OAAO,CAAC;QACxB,YAAY,OAAO,WAAW,OAAO,CAAC;IACxC;AACF;AAGO,SAAS;IACd,eAAe;IACf,YAAY;AACd","debugId":null}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/app/bracelets/page.jsx"],"sourcesContent":["// Remove \"use client\" - this is now a Server Component\nimport CollectionSection from \"../../components/collectionsect\";\nimport { shopifyRequest } from \"../../utils/shopify\";\nimport { GET_BRACELETS_COLLECTION } from \"../../queries/bracelets_collection\";\nimport { calculateFinalPrice } from \"../../utils/price\";\n\n// Cache for 1 hour (3600 seconds)\nexport const revalidate = 3600;\n\nasync function calculateProductPrice(description, selectedKarat = \"10K\") {\n  try {\n    // Improved regex to capture multiple diamond types including \"Marquese\"\n    const diamondShapeMatch = description.match(\n      /Diamond Shape:\\s*([A-Za-z,\\s]+?)(?=Total Diamonds|Diamond Weight|$)/i\n    );\n    const totalDiamondsMatch = description.match(\n      /Total Diamonds:\\s*([\\d,\\s]+?)(?=Diamond Weight|Total Diamond Weight|Metal Weights|$)/i\n    );\n    const diamondWeightMatch = description.match(\n      /Diamond Weight:\\s*([\\d.,\\s]+?)(?=Total Diamond Weight|Metal Weights|$)/i\n    );\n    const goldWeightMatch = description.match(\n      new RegExp(`${selectedKarat} Gold:\\\\s*([\\\\d.]+)g`, \"i\")\n    );\n\n    // Clean up captured groups\n    const diamondShapes = diamondShapeMatch\n      ? diamondShapeMatch[1]\n          .trim()\n          .split(\",\")\n          .map((s) => s.trim())\n          .filter((s) => s)\n      : [];\n\n    const diamondCounts = totalDiamondsMatch\n      ? totalDiamondsMatch[1]\n          .trim()\n          .split(\",\")\n          .map((s) => s.trim())\n          .filter((s) => s && !isNaN(s))\n          .map((c) => parseInt(c))\n      : [];\n\n    const diamondWeights = diamondWeightMatch\n      ? diamondWeightMatch[1]\n          .trim()\n          .split(\",\")\n          .map((s) => s.trim())\n          .filter((s) => s && !isNaN(s))\n          .map((w) => parseFloat(w))\n      : [];\n\n    const goldWeight = goldWeightMatch ? parseFloat(goldWeightMatch[1]) : 0;\n\n    console.log(\n      \"Extracted - Shapes:\",\n      diamondShapes,\n      \"Counts:\",\n      diamondCounts,\n      \"Weights:\",\n      diamondWeights,\n      \"Gold:\",\n      goldWeight\n    );\n\n    const diamonds = diamondShapes.map((shape, i) => ({\n      shape,\n      weight: diamondWeights[i] || 0,\n      count: diamondCounts[i] || 0,\n    }));\n\n    // Calculate price using 10K as default for collection display\n    const result = await calculateFinalPrice({\n      diamonds,\n      goldWeight,\n      goldKarat: selectedKarat,\n    });\n\n    return result.totalPrice;\n  } catch (error) {\n    console.error(\"Error calculating price:\", error);\n    return 0;\n  }\n}\n\nfunction extractDiamondDetails(description) {\n  const caratMatch = description.match(/Total Diamond Carat:\\s*([\\d.]+)/);\n  const qualityMatch = description.match(/Diamond Quality:\\s*([^\\n]+)/);\n  const shapeMatch = description.match(/Diamond Shape:\\s*([^\\n]+)/);\n  const countMatch = description.match(/Total Diamonds:\\s*(\\d+)/);\n\n  return {\n    carat: caratMatch?.[1] || \"\",\n    quality: qualityMatch?.[1]?.trim() || \"\",\n    shape: shapeMatch?.[1]?.trim() || \"\",\n    count: countMatch?.[1] || \"\",\n  };\n}\n\nasync function transformBraceletsData(productsEdges) {\n  const transformedProducts = await Promise.all(\n    productsEdges.map(async ({ node: product }) => {\n      const firstVariant = product.variants.edges[0]?.node;\n\n      const goldKarat =\n        firstVariant?.selectedOptions.find((opt) => opt.name === \"Gold Karat\")\n          ?.value || \"18K\";\n\n      const goldColor =\n        firstVariant?.selectedOptions.find((opt) => opt.name === \"Gold Color\")\n          ?.value || \"\";\n\n      const diamondGrade =\n        firstVariant?.selectedOptions.find(\n          (opt) => opt.name === \"Diamond Grade\"\n        )?.value || \"\";\n\n      const diamondDetails = extractDiamondDetails(product.description);\n\n      // Calculate actual price using your pricing logic\n      const calculatedPrice = await calculateProductPrice(\n        product.description,\n        \"10K\" // Always use 10K for collection display\n      );\n\n      return {\n        productCode: firstVariant?.sku || \"\",\n        handle: product.handle,\n        name: product.title,\n        gold: `${goldKarat} ${goldColor}`.trim(),\n        goldPrice: firstVariant?.price.amount || \"0\",\n        diamondDetails: {\n          carat: diamondDetails.carat,\n          quality: diamondGrade || diamondDetails.quality,\n          shape: diamondDetails.shape,\n          count: diamondDetails.count,\n        },\n        price: calculatedPrice,\n        currency: firstVariant?.price.currencyCode || \"INR\",\n        image: product.featuredImage?.url || firstVariant?.image?.url || \"\",\n        images:\n          product.images?.edges?.map((img) => ({\n            url: img.node.url,\n            altText: img.node.altText,\n          })) || [],\n        allVariants: product.variants.edges.map((v) => v.node),\n      };\n    })\n  );\n\n  return transformedProducts;\n}\n\nexport default async function BraceletsPage() {\n  try {\n    const response = await shopifyRequest(GET_BRACELETS_COLLECTION);\n\n    if (!response.data?.collection?.products?.edges) {\n      return (\n        <div className=\"container mx-auto px-4 md:px-6 lg:px-8 py-10 text-center text-red-600\">\n          <p>No bracelets found.</p>\n        </div>\n      );\n    }\n\n    const bracelets = await transformBraceletsData(\n      response.data.collection.products.edges\n    );\n\n    return (\n      <div className=\"container mx-auto px-3 md:px-6 lg:px-8 py-10 md:py-25\">\n        <CollectionSection\n          id=\"bracelets-collection\"\n          title=\"Bracelets\"\n          items={bracelets}\n        />\n      </div>\n    );\n  } catch (error) {\n    console.error(\"Error fetching bracelets:\", error);\n    return (\n      <div className=\"container mx-auto px-4 md:px-6 lg:px-8 py-10 text-center text-red-600\">\n        <p>Error loading Bracelets: {error.message}</p>\n      </div>\n    );\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}