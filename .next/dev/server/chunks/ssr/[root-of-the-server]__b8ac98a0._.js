module.exports = [
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[project]/src/app/layout.jsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/layout.jsx [app-rsc] (ecmascript)"));
}),
"[project]/src/app/not-found.jsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/not-found.jsx [app-rsc] (ecmascript)"));
}),
"[project]/src/app/bracelets/loading.jsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/bracelets/loading.jsx [app-rsc] (ecmascript)"));
}),
"[project]/src/components/collectionsect.jsx [app-rsc] (client reference proxy) <module evaluation>", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/collectionsect.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/collectionsect.jsx <module evaluation>", "default");
}),
"[project]/src/components/collectionsect.jsx [app-rsc] (client reference proxy)", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/collectionsect.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/collectionsect.jsx", "default");
}),
"[project]/src/components/collectionsect.jsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$collectionsect$2e$jsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/components/collectionsect.jsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$collectionsect$2e$jsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/src/components/collectionsect.jsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$collectionsect$2e$jsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/src/utils/shopify.js [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SHOPIFY_STORE_DOMAIN",
    ()=>SHOPIFY_STORE_DOMAIN,
    "STOREFRONT_ACCESS_TOKEN",
    ()=>STOREFRONT_ACCESS_TOKEN,
    "STOREFRONT_API_URL",
    ()=>STOREFRONT_API_URL,
    "shopifyRequest",
    ()=>shopifyRequest
]);
const SHOPIFY_STORE_DOMAIN = ("TURBOPACK compile-time value", "orion-diamonds-2.myshopify.com");
const STOREFRONT_ACCESS_TOKEN = ("TURBOPACK compile-time value", "c641e74a414f2399377ee372da6dd2b9");
const STOREFRONT_API_URL = `https://${SHOPIFY_STORE_DOMAIN}/api/2024-01/graphql.json`;
// Validation
if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
;
async function shopifyRequest(query, variables = {}) {
    try {
        const response = await fetch(STOREFRONT_API_URL, {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "X-Shopify-Storefront-Access-Token": STOREFRONT_ACCESS_TOKEN
            },
            body: JSON.stringify({
                query,
                variables
            })
        });
        if (!response.ok) {
            throw new Error(`Shopify API error: ${response.status} ${response.statusText}`);
        }
        const json = await response.json();
        if (json.errors) {
            console.error("GraphQL Errors:", json.errors);
            throw new Error(json.errors[0].message);
        }
        return json;
    } catch (error) {
        console.error("Error making Shopify request:", error);
        throw error;
    }
}
}),
"[project]/src/queries/bracelets_collection.js [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET_BRACELETS_COLLECTION",
    ()=>GET_BRACELETS_COLLECTION
]);
const GET_BRACELETS_COLLECTION = `
  query GetEarringsCollection {
    collection(handle: "bracelets") {
      title
      products(first: 50) {
        edges {
          node {
            id
            handle
            title
            description
            variants(first: 50) {
              edges {
                node {
                  id
                  title
                  sku
                  price {
                    amount
                    currencyCode
                  }
                  selectedOptions {
                    name
                    value
                  }
                  image {
                    url
                    altText
                  }
                }
              }
            }
            images(first: 10) {
              edges {
                node {
                  url
                  altText
                }
              }
            }
            featuredImage {
              url
              altText
            }
          }
        }
      }
    }
  }
`;
}),
"[project]/src/utils/price.js [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// Utility: find rate from range-based diamond price chart
__turbopack_context__.s([
    "calculateFinalPrice",
    ()=>calculateFinalPrice
]);
function findRate(weight, ranges) {
    for (const [min, max, rate] of ranges){
        if (weight >= min && weight <= max) return rate;
    }
    return 0;
}
async function calculateFinalPrice({ diamonds = [], goldWeight = 0, goldKarat = "18K" }) {
    let totalDiamondPrice = 0;
    for (const d of diamonds){
        const shape = (d.shape || "").toLowerCase();
        const weight = parseFloat(d.weight) || 0;
        const count = parseInt(d.count) || 0;
        if (weight <= 0 || count <= 0) continue;
        const roundShapes = [
            "round",
            "rnd",
            "r"
        ];
        let rate = 0;
        // === Diamond rate logic ===
        if (roundShapes.includes(shape)) {
            if (weight < 1) {
                rate = findRate(weight, [
                    [
                        0.001,
                        0.005,
                        13500
                    ],
                    [
                        0.006,
                        0.009,
                        11600
                    ],
                    [
                        0.01,
                        0.02,
                        6900
                    ],
                    [
                        0.025,
                        0.035,
                        4600
                    ],
                    [
                        0.04,
                        0.07,
                        4600
                    ],
                    [
                        0.08,
                        0.09,
                        4600
                    ],
                    [
                        0.1,
                        0.12,
                        5100
                    ],
                    [
                        0.13,
                        0.17,
                        5100
                    ],
                    [
                        0.18,
                        0.22,
                        6200
                    ],
                    [
                        0.23,
                        0.29,
                        7000
                    ],
                    [
                        0.3,
                        0.39,
                        6750
                    ],
                    [
                        0.4,
                        0.49,
                        6750
                    ],
                    [
                        0.5,
                        0.69,
                        7100
                    ],
                    [
                        0.7,
                        0.89,
                        7100
                    ],
                    [
                        0.9,
                        0.99,
                        7300
                    ]
                ]);
            } else {
                rate = findRate(weight, [
                    [
                        1.0,
                        1.99,
                        11000
                    ],
                    [
                        2.0,
                        2.99,
                        12500
                    ],
                    [
                        3.0,
                        3.99,
                        13750
                    ],
                    [
                        4.0,
                        4.99,
                        14550
                    ],
                    [
                        5.0,
                        5.99,
                        15500
                    ]
                ]);
            }
        } else {
            if (weight < 1) {
                rate = findRate(weight, [
                    [
                        0.001,
                        0.99,
                        7800
                    ]
                ]);
            } else {
                rate = findRate(weight, [
                    [
                        1.0,
                        1.99,
                        11500
                    ],
                    [
                        2.0,
                        2.99,
                        13500
                    ],
                    [
                        3.0,
                        3.99,
                        14550
                    ],
                    [
                        4.0,
                        4.99,
                        15550
                    ],
                    [
                        5.0,
                        5.99,
                        16500
                    ]
                ]);
            }
        }
        // === Base and adjustment ===
        const base = weight * count * rate;
        let adjusted = base;
        if (weight >= 1) {
            // ≥ 1ct → +80%
            adjusted = base * 1.8;
        } else {
            // < 1ct → +50% + ₹900
            adjusted = base * 1.5 + 900;
        }
        totalDiamondPrice += adjusted;
    }
    // ✅ Add flat ₹150 + ₹700 once after all diamonds
    totalDiamondPrice += 150 + 700;
    // === 2️⃣ Get gold price from API ===
    const res = await fetch("https://gold-price-india.onrender.com/api/gold/24k");
    const json = await res.json();
    const gold24Price = parseFloat(json.price) || 0;
    const goldRates = {
        "10K": gold24Price * (10 / 24),
        "14K": gold24Price * (14 / 24),
        "18K": gold24Price * (18 / 24)
    };
    const selectedGoldRate = goldRates[goldKarat] || goldRates["18K"] || 0;
    const goldPrice = selectedGoldRate * goldWeight;
    // === 3️⃣ Making charges (75% increase) ===
    let makingCharge = goldWeight >= 2 ? goldWeight * 700 : goldWeight * 950;
    makingCharge *= 1.75;
    // === 4️⃣ Subtotal, GST, and Total ===
    const subtotal = totalDiamondPrice + goldPrice + makingCharge;
    const gst = subtotal * 0.03;
    const grandTotal = subtotal + gst;
    // === Round neatly ===
    return {
        diamondPrice: Number(totalDiamondPrice.toFixed(2)),
        goldPrice: Number(goldPrice.toFixed(2)),
        makingCharge: Number(makingCharge.toFixed(2)),
        subtotal: Number(subtotal.toFixed(2)),
        gst: Number(gst.toFixed(2)),
        totalPrice: Number(grandTotal.toFixed(2))
    };
}
}),
"[project]/src/app/bracelets/page.jsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// Remove "use client" - this is now a Server Component
__turbopack_context__.s([
    "default",
    ()=>BraceletsPage,
    "revalidate",
    ()=>revalidate
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$collectionsect$2e$jsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/collectionsect.jsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$shopify$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/shopify.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$queries$2f$bracelets_collection$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/queries/bracelets_collection.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$price$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/price.js [app-rsc] (ecmascript)");
;
;
;
;
;
const revalidate = 3600;
async function calculateProductPrice(description, selectedKarat = "10K") {
    try {
        // Improved regex to capture multiple diamond types including "Marquese"
        const diamondShapeMatch = description.match(/Diamond Shape:\s*([A-Za-z,\s]+?)(?=Total Diamonds|Diamond Weight|$)/i);
        const totalDiamondsMatch = description.match(/Total Diamonds:\s*([\d,\s]+?)(?=Diamond Weight|Total Diamond Weight|Metal Weights|$)/i);
        const diamondWeightMatch = description.match(/Diamond Weight:\s*([\d.,\s]+?)(?=Total Diamond Weight|Metal Weights|$)/i);
        const goldWeightMatch = description.match(new RegExp(`${selectedKarat} Gold:\\s*([\\d.]+)g`, "i"));
        // Clean up captured groups
        const diamondShapes = diamondShapeMatch ? diamondShapeMatch[1].trim().split(",").map((s)=>s.trim()).filter((s)=>s) : [];
        const diamondCounts = totalDiamondsMatch ? totalDiamondsMatch[1].trim().split(",").map((s)=>s.trim()).filter((s)=>s && !isNaN(s)).map((c)=>parseInt(c)) : [];
        const diamondWeights = diamondWeightMatch ? diamondWeightMatch[1].trim().split(",").map((s)=>s.trim()).filter((s)=>s && !isNaN(s)).map((w)=>parseFloat(w)) : [];
        const goldWeight = goldWeightMatch ? parseFloat(goldWeightMatch[1]) : 0;
        console.log("Extracted - Shapes:", diamondShapes, "Counts:", diamondCounts, "Weights:", diamondWeights, "Gold:", goldWeight);
        const diamonds = diamondShapes.map((shape, i)=>({
                shape,
                weight: diamondWeights[i] || 0,
                count: diamondCounts[i] || 0
            }));
        // Calculate price using 10K as default for collection display
        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$price$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["calculateFinalPrice"])({
            diamonds,
            goldWeight,
            goldKarat: selectedKarat
        });
        return result.totalPrice;
    } catch (error) {
        console.error("Error calculating price:", error);
        return 0;
    }
}
function extractDiamondDetails(description) {
    const caratMatch = description.match(/Total Diamond Carat:\s*([\d.]+)/);
    const qualityMatch = description.match(/Diamond Quality:\s*([^\n]+)/);
    const shapeMatch = description.match(/Diamond Shape:\s*([^\n]+)/);
    const countMatch = description.match(/Total Diamonds:\s*(\d+)/);
    return {
        carat: caratMatch?.[1] || "",
        quality: qualityMatch?.[1]?.trim() || "",
        shape: shapeMatch?.[1]?.trim() || "",
        count: countMatch?.[1] || ""
    };
}
async function transformBraceletsData(productsEdges) {
    const transformedProducts = await Promise.all(productsEdges.map(async ({ node: product })=>{
        const firstVariant = product.variants.edges[0]?.node;
        const goldKarat = firstVariant?.selectedOptions.find((opt)=>opt.name === "Gold Karat")?.value || "18K";
        const goldColor = firstVariant?.selectedOptions.find((opt)=>opt.name === "Gold Color")?.value || "";
        const diamondGrade = firstVariant?.selectedOptions.find((opt)=>opt.name === "Diamond Grade")?.value || "";
        const diamondDetails = extractDiamondDetails(product.description);
        // Calculate actual price using your pricing logic
        const calculatedPrice = await calculateProductPrice(product.description, "10K" // Always use 10K for collection display
        );
        return {
            productCode: firstVariant?.sku || "",
            handle: product.handle,
            name: product.title,
            gold: `${goldKarat} ${goldColor}`.trim(),
            goldPrice: firstVariant?.price.amount || "0",
            diamondDetails: {
                carat: diamondDetails.carat,
                quality: diamondGrade || diamondDetails.quality,
                shape: diamondDetails.shape,
                count: diamondDetails.count
            },
            price: calculatedPrice,
            currency: firstVariant?.price.currencyCode || "INR",
            image: product.featuredImage?.url || firstVariant?.image?.url || "",
            images: product.images?.edges?.map((img)=>({
                    url: img.node.url,
                    altText: img.node.altText
                })) || [],
            allVariants: product.variants.edges.map((v)=>v.node)
        };
    }));
    return transformedProducts;
}
async function BraceletsPage() {
    try {
        const response = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$shopify$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["shopifyRequest"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$queries$2f$bracelets_collection$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["GET_BRACELETS_COLLECTION"]);
        if (!response.data?.collection?.products?.edges) {
            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "container mx-auto px-4 md:px-6 lg:px-8 py-10 text-center text-red-600",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                    children: "No bracelets found."
                }, void 0, false, {
                    fileName: "[project]/src/app/bracelets/page.jsx",
                    lineNumber: 161,
                    columnNumber: 11
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/app/bracelets/page.jsx",
                lineNumber: 160,
                columnNumber: 9
            }, this);
        }
        const bracelets = await transformBraceletsData(response.data.collection.products.edges);
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "container mx-auto px-3 md:px-6 lg:px-8 py-10 md:py-25",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$collectionsect$2e$jsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
                id: "bracelets-collection",
                title: "Bracelets",
                items: bracelets
            }, void 0, false, {
                fileName: "[project]/src/app/bracelets/page.jsx",
                lineNumber: 172,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/app/bracelets/page.jsx",
            lineNumber: 171,
            columnNumber: 7
        }, this);
    } catch (error) {
        console.error("Error fetching bracelets:", error);
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "container mx-auto px-4 md:px-6 lg:px-8 py-10 text-center text-red-600",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                children: [
                    "Error loading Bracelets: ",
                    error.message
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/bracelets/page.jsx",
                lineNumber: 183,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/app/bracelets/page.jsx",
            lineNumber: 182,
            columnNumber: 7
        }, this);
    }
}
}),
"[project]/src/app/bracelets/page.jsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/bracelets/page.jsx [app-rsc] (ecmascript)"));
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__b8ac98a0._.js.map