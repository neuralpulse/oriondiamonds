{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/kushagraverma/Desktop/Neural%20Pulse/Oriondiamonds/src/app/api/cart/route.js"],"sourcesContent":["// src/app/api/cart/route.js\nimport { NextResponse } from \"next/server\";\n\n// In-memory storage (replace with database in production)\n// Example: MongoDB, PostgreSQL, etc.\nconst cartStore = new Map();\n\n/**\n * GET /api/cart?email=customer@email.com\n * Fetch cart ID for customer\n */\nexport async function GET(request) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const email = searchParams.get(\"email\");\n\n    if (!email) {\n      return NextResponse.json({ error: \"Email required\" }, { status: 400 });\n    }\n\n    const cartId = cartStore.get(email);\n\n    return NextResponse.json({\n      cartId: cartId || null,\n    });\n  } catch (error) {\n    console.error(\"Error fetching cart:\", error);\n    return NextResponse.json(\n      { error: \"Failed to fetch cart\" },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * POST /api/cart\n * Store cart ID for customer\n */\nexport async function POST(request) {\n  try {\n    const { email, cartId } = await request.json();\n\n    if (!email || !cartId) {\n      return NextResponse.json(\n        { error: \"Email and cartId required\" },\n        { status: 400 }\n      );\n    }\n\n    // Store cart ID (in production, save to database)\n    cartStore.set(email, cartId);\n\n    return NextResponse.json({\n      success: true,\n      email,\n      cartId,\n    });\n  } catch (error) {\n    console.error(\"Error storing cart:\", error);\n    return NextResponse.json(\n      { error: \"Failed to store cart\" },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * DELETE /api/cart?email=customer@email.com\n * Clear cart for customer\n */\nexport async function DELETE(request) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const email = searchParams.get(\"email\");\n\n    if (!email) {\n      return NextResponse.json({ error: \"Email required\" }, { status: 400 });\n    }\n\n    cartStore.delete(email);\n\n    return NextResponse.json({\n      success: true,\n    });\n  } catch (error) {\n    console.error(\"Error deleting cart:\", error);\n    return NextResponse.json(\n      { error: \"Failed to delete cart\" },\n      { status: 500 }\n    );\n  }\n}\n\n/* \nFor production, replace the Map with a database:\n\n// Example with MongoDB (using mongoose)\nimport { MongoClient } from 'mongodb';\n\nconst client = new MongoClient(process.env.MONGODB_URI);\nconst db = client.db('orion_diamonds');\n\nexport async function GET(request) {\n  const { searchParams } = new URL(request.url);\n  const email = searchParams.get('email');\n  \n  const result = await db.collection('carts').findOne({ email });\n  \n  return NextResponse.json({\n    cartId: result?.cartId || null\n  });\n}\n\nexport async function POST(request) {\n  const { email, cartId } = await request.json();\n  \n  await db.collection('carts').updateOne(\n    { email },\n    { $set: { cartId, updatedAt: new Date() } },\n    { upsert: true }\n  );\n  \n  return NextResponse.json({ success: true });\n}\n*/\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;;AAC5B;;AAEA,0DAA0D;AAC1D,qCAAqC;AACrC,MAAM,YAAY,IAAI;AAMf,eAAe,IAAI,OAAO;IAC/B,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,QAAQ,aAAa,GAAG,CAAC;QAE/B,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACtE;QAEA,MAAM,SAAS,UAAU,GAAG,CAAC;QAE7B,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,QAAQ,UAAU;QACpB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF;AAMO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE5C,IAAI,CAAC,SAAS,CAAC,QAAQ;YACrB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA4B,GACrC;gBAAE,QAAQ;YAAI;QAElB;QAEA,kDAAkD;QAClD,UAAU,GAAG,CAAC,OAAO;QAErB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF;AAMO,eAAe,OAAO,OAAO;IAClC,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,QAAQ,aAAa,GAAG,CAAC;QAE/B,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACtE;QAEA,UAAU,MAAM,CAAC;QAEjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF,EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA","debugId":null}}]
}